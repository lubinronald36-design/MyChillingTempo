
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyChillingTime â€” Interactive Notes</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:980px;margin:28px auto;padding:0 16px;line-height:1.45}
    h1{margin:0 0 6px}
    .box{padding:14px 16px;border:1px solid #ddd;border-radius:12px;margin:12px 0}
    button{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    button:disabled{opacity:.5;cursor:not-allowed}
    kbd{padding:2px 6px;border:1px solid #ccc;border-radius:6px;background:#f7f7f7}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .small{color:#555;font-size:14px}
    .ok{color:#0a7a2f;font-weight:600}
    .bad{color:#b00020;font-weight:600}
    .keys{display:grid;grid-template-columns:repeat(8,1fr);gap:10px;margin-top:10px}
    .key{padding:12px;border:1px solid #ddd;border-radius:12px;text-align:center;background:#fff;user-select:none}
    .key.active{outline:3px solid #111}
    .hint{margin-top:6px;font-size:13px;color:#666}
    @media (max-width:720px){ .keys{grid-template-columns:repeat(4,1fr)} }
  </style>
</head>

<body>
  <h1>MyChillingTime ðŸŽµ</h1>
  <div class="small">Beat + many playable keys (real notes).</div>

  <div class="box">
    <div class="row">
      <button id="startBtn">Start Beat</button>
      <button id="stopBtn" disabled>Stop Beat</button>
      <span id="status" class="small bad">Beat: OFF</span>
      <span id="audioStatus" class="small bad">Keys: LOCKED</span>
    </div>
    <div class="hint">
      Tip: Click <b>Start Beat</b> (or tap any key box) once to unlock audio, then play keys freely.
    </div>
  </div>

  <div class="box">
    <div class="small"><b>16 Keyboard Keys:</b>
      <kbd>1</kbd> <kbd>2</kbd> <kbd>3</kbd> <kbd>4</kbd>
      <kbd>Q</kbd> <kbd>W</kbd> <kbd>E</kbd> <kbd>R</kbd>
      <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> <kbd>F</kbd>
      <kbd>Z</kbd> <kbd>X</kbd> <kbd>C</kbd> <kbd>V</kbd>
    </div>

    <div class="keys" id="keysGrid"></div>

    <p class="small" style="margin-top:10px;">
      These keys generate real notes using the browser (no key.wav needed).
    </p>
  </div>

  <!-- Beat file (must be in same folder as index.html). If your file is bott.mp3, keep it exactly like this. -->
  <audio id="beat" src="bott.mp3" preload="auto" loop></audio>

  <script>
    // =========================
    // 0) Elements
    // =========================
    const beat = document.getElementById("beat");
    const startBtn = document.getElementById("startBtn");
    const stopBtn  = document.getElementById("stopBtn");
    const statusEl = document.getElementById("status");
    const audioStatus = document.getElementById("audioStatus");
    const keysGrid = document.getElementById("keysGrid");

    // =========================
    // 1) UI helpers
    // =========================
    function setBeatUI(isOn){
      if (isOn) {
        statusEl.textContent = "Beat: ON";
        statusEl.classList.remove("bad");
        statusEl.classList.add("ok");
        startBtn.disabled = true;
        stopBtn.disabled = false;
      } else {
        statusEl.textContent = "Beat: OFF";
        statusEl.classList.remove("ok");
        statusEl.classList.add("bad");
        startBtn.disabled = false;
        stopBtn.disabled = true;
      }
    }

    function setKeysUI(unlocked){
      if (unlocked) {
        audioStatus.textContent = "Keys: UNLOCKED";
        audioStatus.classList.remove("bad");
        audioStatus.classList.add("ok");
      } else {
        audioStatus.textContent = "Keys: LOCKED";
        audioStatus.classList.remove("ok");
        audioStatus.classList.add("bad");
      }
    }

    setBeatUI(false);
    setKeysUI(false);

    // =========================
    // 2) Audio unlock (IMPORTANT)
    // Browsers require a click/tap to unlock audio.
    // =========================
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const ctx = new AudioCtx();
    let audioUnlocked = false;

    async function unlockAudio(){
      if (audioUnlocked) return;
      try {
        if (ctx.state !== "running") {
          await ctx.resume();
        }
        audioUnlocked = true;
        setKeysUI(true);
      } catch (e) {
        // If it fails, user can click again
        console.log("unlockAudio error:", e);
      }
    }

    // =========================
    // 3) Musical note generator
    // =========================
    function playNote(freq, duration = 0.12) {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();

      osc.type = "triangle";
      osc.frequency.value = freq;

      const now = ctx.currentTime;
      gain.gain.setValueAtTime(0.0001, now);
      gain.gain.exponentialRampToValueAtTime(0.35, now + 0.01);
      gain.gain.exponentialRampToValueAtTime(0.0001, now + duration);

      osc.connect(gain);
      gain.connect(ctx.destination);

      osc.start(now);
      osc.stop(now + duration);
    }

    // 16 keys
    const keyMap = ["1","2","3","4","q","w","e","r","a","s","d","f","z","x","c","v"];

    // 16 notes (pleasant scale)
    const freqs = [
      261.63, 293.66, 329.63, 349.23,
      392.00, 440.00, 493.88, 523.25,
      587.33, 659.25, 698.46, 783.99,
      880.00, 987.77, 1046.50, 1174.66
    ];

    // =========================
    // 4) Build visual key buttons (tap/click works even on mobile)
    // =========================
    keysGrid.innerHTML = "";
    keyMap.forEach((k, i) => {
      const div = document.createElement("div");
      div.className = "key";
      div.dataset.key = k;
      div.innerHTML = `<b>${k.toUpperCase()}</b><div class="hint">${Math.round(freqs[i])} Hz</div>`;

      div.addEventListener("pointerdown", async () => {
        await unlockAudio();
        playNote(freqs[i]);
        div.classList.add("active");
        setTimeout(() => div.classList.remove("active"), 120);
      });

      keysGrid.appendChild(div);
    });

    // =========================
    // 5) Keyboard support
    // IMPORTANT: keyboard cannot unlock audio by itself
    // =========================
    document.addEventListener("keydown", (e) => {
      if (!audioUnlocked) return; // must click Start Beat or tap a key box first

      const k = e.key.toLowerCase();
      const idx = keyMap.indexOf(k);
      if (idx === -1) return;

      playNote(freqs[idx]);

      const el = document.querySelector(`[data-key="${k}"]`);
      if (el) {
        el.classList.add("active");
        setTimeout(() => el.classList.remove("active"), 120);
      }
    });

    // =========================
    // 6) Start/Stop beat buttons
    // =========================
    startBtn.addEventListener("click", async () => {
      await unlockAudio(); // unlock keys + allow beat
      try {
        await beat.play();
        setBeatUI(true);
      } catch (err) {
        console.log("Beat play error:", err);
        alert("Beat did not play. Check that bott.mp3 is in the SAME folder as index.html and the name matches exactly.");
      }
    });

    stopBtn.addEventListener("click", () => {
      beat.pause();
      beat.currentTime = 0;
      setBeatUI(false);
    });
  </script>
</body>
</html>

On Wed, Dec 31, 2025, 2:28â€¯AM Ronald Lubin <lubinronald36@gmail.com> wrote:
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyChillingTime â€” Interactive Notes</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:980px;margin:28px auto;padding:0 16px;line-height:1.45}
    h1{margin:0 0 6px}
    .box{padding:14px 16px;border:1px solid #ddd;border-radius:12px;margin:12px 0}
    button{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    button:disabled{opacity:.5;cursor:not-allowed}
    kbd{padding:2px 6px;border:1px solid #ccc;border-radius:6px;background:#f7f7f7}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .small{color:#555;font-size:14px}
    .ok{color:#0a7a2f;font-weight:600}
    .bad{color:#b00020;font-weight:600}
    .keys{display:grid;grid-template-columns:repeat(8,1fr);gap:10px;margin-top:10px}
    .key{padding:12px;border:1px solid #ddd;border-radius:12px;text-align:center;background:#fff}
    .key.active{outline:3px solid #111}
    .hint{margin-top:6px;font-size:13px;color:#666}
    @media (max-width:720px){ .keys{grid-template-columns:repeat(4,1fr)} }
  </style>
</head>

<body>
  <h1>MyChillingTime ðŸŽµ</h1>
  <div class="small">Beat + many playable keys (real notes).</div>

  <div class="box">
    <div class="row">
      <button id="startBtn">Start Beat</button>
      <button id="stopBtn" disabled>Stop Beat</button>
      <span id="status" class="small bad">Beat: OFF</span>
      <span id="audioStatus" class="small bad">Keys: LOCKED</span>
    </div>
    <div class="hint">
      Tip: Click <b>Start Beat</b> once to unlock audio, then play keys freely.
    </div>
  </div>

  <div class="box">
    <div class="small"><b>16 Keyboard Keys:</b>
      <kbd>1</kbd> <kbd>2</kbd> <kbd>3</kbd> <kbd>4</kbd>
      <kbd>Q</kbd> <kbd>W</kbd> <kbd>E</kbd> <kbd>R</kbd>
      <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> <kbd>F</kbd>
      <kbd>Z</kbd> <kbd>X</kbd> <kbd>C</kbd> <kbd>V</kbd>
    </div>
    <div class="keys" id="keysGrid"></div>
    <p class="small" style="margin-top:10px;">
      These keys generate real notes using the browser (no key.wav needed).
    </p>
  </div>

  <!-- Beat file (must be in same folder as index.html) -->
  <audio id="beat" src="bott.mp3" preload="auto" loop></audio>

  <script>
    // =========================
    // 1) Beat controls (bott.mp3)
    // =========================
    const beat = document.getElementById("beat");
    const startBtn = document.getElementById("startBtn");
    const stopBtn  = document.getElementById("stopBtn");
    const statusEl = document.getElementById("status");
    const audioStatus = document.getElementById("audioStatus");

    function setBeatUI(isOn){
      if (isOn) {
        statusEl.textContent = "Beat: ON";
        statusEl.classList.remove("bad");
        statusEl.classList.add("ok");
        startBtn.disabled = true;
        stopBtn.disabled = false;
      } else {
        statusEl.textContent = "Beat: OFF";
        statusEl.classList.remove("ok");
        statusEl.classList.add("bad");
        startBtn.disabled = false;
        stopBtn.disabled = true;
      }
    }

    // =========================
    // 2) Musical keys (WebAudio)
    // =========================
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const ctx = new AudioCtx();

    function setKeysUI(unlocked){
      if (unlocked) {
        audioStatus.textContent = "Keys: UNLOCKED";
        audioStatus.classList.remove("bad");
        audioStatus.classList.add("ok");
      } else {
        audioStatus.textContent = "Keys: LOCKED";
        audioStatus.classList.remove("ok");
        audioStatus.classList.add("bad");
      }
    }
    setKeysUI(false);

    async function unlockAudio() {
      if (ctx.state !== "running") {
        await ctx.resume();
      }
      setKeysUI(true);
    }

    function playNote(freq, duration = 0.12) {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();

      osc.type = "triangle";
      osc.frequency.value = freq;

      const now = ctx.currentTime;
      gain.gain.setValueAtTime(0.0001, now);
      gain.gain.exponentialRampToValueAtTime(0.35, now + 0.01);
      gain.gain.exponentialRampToValueAtTime(0.0001, now + duration);

      osc.connect(gain);
      gain.connect(ctx.destination);

      osc.start(now);
      osc.stop(now + duration);
    }

    const keyMap = ["1","2","3","4","q","w","e","r","a","s","d","f","z","x","c","v"];

    // 16 notes (pleasant scale)
    const freqs = [
      261.63, 293.66, 329.63, 349.23,
      392.00, 440.00, 493.88, 523.25,
      587.33, 659.25, 698.46, 783.99,
      880.00, 987.77, 1046.50, 1174.66
    ];

    // Build the visual key buttons
    const keysGrid = document.getElementById("keysGrid");
    keysGrid.innerHTML = "";
    keyMap.forEach((k, i) => {
      const div = document.createElement("div");
      div.className = "key";
      div.dataset.key = k;
      div.innerHTML = `<b>${k.toUpperCase()}</b><div class="hint">${Math.round(freqs[i])} Hz</div>`;
      div.addEventListener("pointerdown", async () => {
        await unlockAudio();
        playNote(freqs[i]);
        div.classList.add("active");
        setTimeout(() => div.classList.remove("active"), 120);
      });
      keysGrid.appendChild(div);
    });

    // Keyboard support
    document.addEventListener("keydown", async (e) => {
      const k = e.key.toLowerCase();
      const idx = keyMap.indexOf(k);
      if (idx === -1) return;

      await unlockAudio();
      playNote(freqs[idx]);

      const el = document.querySelector(`[data-key="${k}"]`);
      if (el) {
        el.classList.add("active");
        setTimeout(() => el.classList.remove("active"), 120);
      }
    });

    // Start/Stop beat buttons
    startBtn.addEventListener("click", async () => {
      await unlockAudio(); // unlock keys + allow beat
      try {
        await beat.play();
        setBeatUI(true);
      } catch (err) {
        console.log("Beat play error:", err);
        alert("Beat did not play. Check that bott.mp3 is in the same folder as index.html and the name matches exactly.");
      }
    });

    stopBtn.addEventListener("click", () => {

On Wed, Dec 31, 2025, 2:26â€¯AM Ronald Lubin <lubinronald36@gmail.com> wrote:
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyChillingTime â€” Interactive Notes</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;max-width:980px;margin:28px auto;padding:0 16px;line-height:1.45}
    h1{margin:0 0 6px}
    .box{padding:14px 16px;border:1px solid #ddd;border-radius:12px;margin:12px 0}
    button{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    button:disabled{opacity:.5;cursor:not-allowed}
    kbd{padding:2px 6px;border:1px solid #ccc;border-radius:6px;background:#f7f7f7}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .small{color:#555;font-size:14px}
    .ok{color:#0a7a2f;font-weight:600}
    .bad{color:#b00020;font-weight:600}
    .keys{display:grid;grid-template-columns:repeat(8,1fr);gap:10px;margin-top:10px}
    .key{padding:12px;border:1px solid #ddd;border-radius:12px;text-align:center;background:#fff}
    .hint{margin-top:6px;font-size:13px;color:#666}
    @media (max-width:720px){ .keys{grid-template-columns:repeat(4,1fr)} }
  </style>
</head>
<body>// ===== Musical keys (no key.wav needed) =====
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const ctx = new AudioCtx();

function playNote(freq, duration = 0.12) {
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();

  osc.type = "triangle"; // more musical than a click
  osc.frequency.value = freq;

  gain.gain.setValueAtTime(0.0001, ctx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.35, ctx.currentTime + 0.01);
  gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + duration);

  osc.connect(gain);
  gain.connect(ctx.destination);

  osc.start();
  osc.stop(ctx.currentTime + duration);
}

// 16 notes (nice scale). You can change these later.
const freqs = [
  261.63, 293.66, 329.63, 349.23, // C D E F
  392.00, 440.00, 493.88, 523.25, // G A B C
  587.33, 659.25, 698.46, 783.99, // D E F G
  880.00, 987.77, 1046.50, 1174.66 // A B C D
];

// Your 16 keys (same mapping you were using)
const keyMap = ["1","2","3","4","q","w","e","r","a","s","d","f","z","x","c","v"];

document.addEventListener("keydown", async (e) => {
  // unlock audio on first interaction (important on phones)
  if (ctx.state !== "running") await ctx.resume();

  const k = e.key.toLowerCase();
  const idx = keyMap.indexOf(k);
  if (idx === -1) return;

  playNote(freqs[idx], 0.12);
});
</body>

  <h1>MyChillingTime ðŸŽµ</h1>
  <div class="small">Beat + many playable keys (real notes).</div>

  <div class="box">
    <div class="row">
      <button id="startBtn">Start Beat</button>
      <button id="stopBtn" disabled>Stop Beat</button>
      <span id="status" class="small bad">Beat: OFF</span>
      <span id="audioStatus" class="small bad">Keys: LOCKED</span>
    </div>
    <div class="hint">
      Tip: Click <b>Start Beat</b> once to unlock audio, then play keys freely.
    </div>
  </div>

  <div class="box">
    <div class="small"><b>16 Keyboard Keys:</b>
      <kbd>Q</kbd> <kbd>W</kbd> <kbd>E</kbd> <kbd>R</kbd>
      <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> <kbd>F</kbd>
      <kbd>G</kbd> <kbd>H</kbd> <kbd>J</kbd> <kbd>K</kbd>
      <kbd>U</kbd> <kbd>I</kbd> <kbd>O</kbd> <kbd>P</kbd>
    </div>

    <div class="keys" id="keysGrid"></div>

    <p class="small" style="margin-top:10px;">
      These keys generate real notes using the browser (no key.wav needed).
    </p>
  </div>

  <!-- Beat (keep it simple: src on the audio tag is the most reliable) -->
  <audio id="beat" src="bott.mp3" preload="auto" loop></audio>

  <script>
    // ----- Beat controls -----
    const beat = document.getElementById("beat");
    const startBtn = document.getElementById("startBtn");
    const stopBtn  = document.getElementById("stopBtn");
    const statusEl = document.getElementById("status");
    const audioStatus = document.getElementById("audioStatus");

    function setBeat 
